{"title":"TCTWS Abstracts (2022–2025): Interactive Companion","markdown":{"yaml":{"title":"TCTWS Abstracts (2022–2025): Interactive Companion","author":[{"name":"Gabriel P. Andrade-Ponce","email":"Gabriel.Andrade@sfasu.edu","affiliation":"Arthur Temple College of Forestry & Agriculture, Stephen F. Austin State University"},{"name":"Jessica L. Glasscock","email":"Jessica.Glasscock@sfasu.edu","affiliation":"Arthur Temple College of Forestry & Agriculture, Stephen F. Austin State University"}],"format":{"html":{"theme":"cosmo","toc":true,"toc-location":"left","number-sections":false,"code-fold":true,"code-summary":"Show code","self-contained":true}},"execute":{"warning":false,"message":false}},"headingText":"Analysis of research trends in the Texas Chapter of The Wildlife Society using data mining of annual meeting programs","containsRefs":false,"markdown":"\n\n\nThe Texas Chapter of The Wildlife Society (TCTWS), established in 1965, has long served as a cornerstone for wildlife science and management in the state. The Chapter promotes the profession, disseminates scientific information, and advocates for the integration of sound biological data into wildlife policy and decision-making. For decades, the annual meeting has been a central venue for sharing research, exchanging ideas, and fostering collaboration among scientists, managers, and institutions across Texas. Examining the evolution of the knowledge presented at these meetings provides valuable context for identifying emerging topics, shifting priorities, and long-term trends in wildlife conservation across the state. In this study, we apply text-analysis and data-mining tools to the abstracts submitted to recent TCTWS annual meetings. We characterize historical research trends in terms of focal taxa, ecological and management topics, and analytical approaches. Additionally, we quantify and describe the collaborative network among academic, governmental, and non-governmental institutions participating in the meetings. This work aims to provide an updated, data-driven perspective on how research themes and institutional collaborations have evolved within the TCTWS community. By documenting these patterns, we highlight new directions and persistent priorities as the Chapter continues to advance wildlife science and conservation in Texas.\n\n## R packages\n\n```{r}\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(sysfonts)\nlibrary(tidytext)\nlibrary(ggtext)\nlibrary(ggrepel)\nlibrary(readxl)\nlibrary(treemapify)\nlibrary(rphylopic)\nlibrary(DT)\nlibrary(kableExtra)\nlibrary(plotly)\nlibrary(rnaturalearth)\nlibrary(sf)\nlibrary(igraph)\nlibrary(ggraph)\nlibrary(tidygraph)\n```\n\n```{r}\n'%notin%' <- Negate(\"%in%\")\nfont_add_google(\"Montserrat\", \"tctws\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\n```\n\n# Number of abstracts\n\n```{r}\nabstract_df  <- read_csv(\"Data/Clean/22to25_years_abstracts.csv\") %>% \n  # get only abstracts\n  select(abstract, year) %>% \n  mutate(ID= seq(1:length(.$abstract)))\n\nnabstracts <- abstract_df %>% \n  count(year) %>% \n  mutate(year= as.factor(year),\n         conf= c(\"Horseshoe Bay\", \"Houston\", \"Houston\", \"Denton\"))\n\nnabstracts %>%\n  arrange(year) %>%\n  rename(\n    Year = year,\n    `Number of Abstracts` = n,\n    Conference = conf\n  ) %>%\n  kbl(\n    align = c(\"c\", \"c\", \"l\"),\n    caption = \"Number of abstracts presented at TCTWS annual meetings (2022–2025)\"\n  ) %>%\n  kable_classic(full_width = FALSE, html_font = \"Helvetica\") %>%\n  column_spec(2, bold = TRUE) %>%\n  row_spec(0, bold = TRUE)\n```\n\n```{r}\n#| fig-width: 7\n#| fig-height: 6\n#| fig-align: \"center\"\n#| fig-cap: \"Number of abstracts presented at TCTWS annual meetings (2022–2025).\"\ntctws_maroon <- \"#693332\"\ntctws_text   <- \"#1F1F1F\"\ntctws_grid   <- \"#E6E6E6\"\n\nnabstractplot <- ggplot(nabstracts, aes(x = year, y = n)) +\n  geom_segment(aes(y = 0, yend = n ), col= tctws_maroon, size= 3) +\n  geom_point( size = 8, color = tctws_maroon) +\n  geom_text( aes(label = n),  vjust = -1, family = \"tctws\",\n    size = 6, color = tctws_text\n  ) +\n  geom_text(aes(label = conf), hjust= 1.2, family=\"tctws\",\n            angle= 90, vjust= 1.2, size= 4)+\n  scale_y_continuous( expand = expansion(mult = c(0, 0.12))) +\n  labs( x = \"Year\", y = \"Number of abstracts\") +\n  theme_minimal(base_family = \"tctws\", base_size = 15) +\n  theme(\n    panel.grid.minor = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.major.y = element_line(color = tctws_grid, linewidth = 0.4),\n    axis.title = element_text(face = \"bold\"),\n    axis.text  = element_text(color = tctws_text),\n    plot.margin = margin(10, 12, 10, 12)\n  )\n\nnabstractplot\n```\n\n# Authors geographical distribution\n\n```{r}\nauthors <- read.csv(\"Data/Clean/22to25_years_authors_cleanedchapter.csv\")\n```\n\n## Worldwide author distribution\n\n```{r}\ncountry_counts <- authors %>%\n  filter(!is.na(country_std)) %>%\n  distinct(author, country_std) %>%\n  count(country_std, name = \"n_authors\")\n\ncountry_counts2 <- country_counts %>%\n  arrange(desc(n_authors)) %>%\n  mutate(\n    perc = round(n_authors / sum(n_authors) * 100, 1)\n  )\n\ncountry_counts2 %>%\n  rename(\n    Country = country_std,\n    `Number of Authors` = n_authors,\n    `Percent (%)` = perc\n  ) %>%\n  kbl(align = c(\"l\", \"c\", \"c\"),\n      caption = \"Author affiliation by country (unique authors)\") %>%\n  kable_classic(full_width = FALSE) %>%\n  column_spec(2, bold = TRUE) %>%\n  row_spec(0, bold = TRUE)\n```\n\n```{r}\nworld <- ne_countries(scale = \"medium\", returnclass = \"sf\")\n\nworld_map <- world %>%\n  left_join(country_counts, by = c(\"name\" = \"country_std\")) %>%\n  mutate(\n    n_authors = replace_na(n_authors, 0L),\n    tooltip = paste0(\n      \"<b>\", name, \"</b>\",\n      \"<br>Authors: \", n_authors\n    )\n  )\n\n\nauthor_world_int <- ggplot(world_map) +\n  geom_sf(aes(fill = as.factor(n_authors), text = tooltip),\n          color = \"white\", linewidth = 0.2, alpha = 0.9) +\n  scale_fill_manual(\n    values = c(\n      \"1096\" = \"#E15759\", \n      \"15\"   = \"#F28E2B\",\n      \"4\"    = \"#76B7B2\",\n      \"1\"    = \"#4E79A7\"\n    ),\n    na.value = \"grey\",\n    name = \"Number of\\nauthors\"\n  )+\n  coord_sf(ylim = c(-60, 80)) +\n  theme_void(base_size = 15, base_family = \"tctws\") +\n  labs(title = \"Worldwide geographic distribution of authors\") \n  theme(legend.position = \"none\")\n\nggplotly(author_world_int, tooltip = \"text\") %>%\n  layout(margin = list(l = 0, r = 0, t = 60, b = 0))\n```\n\n## US author distribution\n\n```{r}\nvalid_usps <- c(state.abb, \"DC\")\n\nauthors_us <- authors %>%\n  filter(country_std == \"United States of America\") %>% \n  mutate(state_clean = str_squish(state),\n         \n           state_clean = case_when(\n           str_to_lower(state_clean) == \"texas\" ~ \"TX\",\n           str_to_lower(state_clean) == \"arkansas\" ~ \"AR\",\n           state_clean %in% c(\"D.C\", \"D.C.\", \"Washington, D.C.\", \"Washington DC\", \"DC\") ~ \"DC\",\n           TRUE ~ state_clean\n         ),\n         \n         state_clean = str_to_upper(state_clean),\n         \n           state_usps = if_else(state_clean %in% valid_usps, state_clean, NA_character_)\n  ) %>%\n  filter(!is.na(state_usps))\n\nstate_counts <- authors_us %>%\n  distinct(author, state_usps) %>%\n  count(state_usps, name = \"n_authors\")\n\n\nstate_counts2 <- state_counts %>%\n  arrange(desc(n_authors)) %>%\n  mutate(\n    perc = round(n_authors / sum(n_authors) * 100, 1)\n  )\n\nstate_counts2 %>%\n  rename(\n    State = state_usps,\n    `Number of Authors` = n_authors,\n    `Percent (%)` = perc\n  ) %>%\n  kbl(align = c(\"l\", \"c\", \"c\"),\n      caption = \"Author affiliation by State (unique authors)\") %>%\n  kable_classic(full_width = FALSE) %>%\n  column_spec(2, bold = TRUE) %>%\n  row_spec(0, bold = TRUE)\n```\n\n```{r}\nus_states <- map_data(\"state\")\n\n\nstate_ref <- tibble::tibble(\n  state_usps = state.abb,\n  state_name = tolower(state.name)\n)\n\nstate_counts2 <- state_counts %>%\n  filter(state_usps != \"TX\") %>%\n  left_join(state_ref, by = \"state_usps\")\n\nstate_countstx <- state_counts %>%\n  filter(state_usps == \"TX\") %>% \n  left_join(state_ref, by = \"state_usps\")\n\nus_map <- us_states %>%\n  left_join(state_counts2, by = c(\"region\" = \"state_name\"))\n\nus_map_tx <- us_states %>%\n  filter(region == \"texas\") %>%\n  left_join(state_countstx, by = c(\"region\" = \"state_name\"))\n\n\nstate_labels <- tibble(\n  state_usps = state.abb,\n  state_name = tolower(state.name),\n  lon = state.center$x,\n  lat = state.center$y\n) %>% \n  left_join(state_counts, by = \"state_usps\")\n\n\nstate_counts_join <- state_counts %>%\n  left_join(state_ref, by = \"state_usps\") %>%\n  mutate(\n    n_authors = replace_na(n_authors, 0L),\n    tooltip = paste0(\n      \"<b>\", str_to_title(state_name), \"</b>\",\n      \" (\", state_usps, \")\",\n      \"<br>Authors: \", n_authors\n    )\n  )\n\n# Separar TX para mantener tu estilo\nstate_counts2 <- state_counts_join %>% filter(state_usps != \"TX\")\nstate_countstx <- state_counts_join %>% filter(state_usps == \"TX\")\n\nus_map <- us_states %>%\n  left_join(state_counts2, by = c(\"region\" = \"state_name\"))\n\nus_map_tx <- us_states %>%\n  filter(region == \"texas\") %>%\n  left_join(state_countstx, by = c(\"region\" = \"state_name\"))\n\nauthor_us_map_int <- ggplot(us_map) +\n  geom_polygon(\n    aes(long, lat, group = group, fill = n_authors, text = tooltip),\n    color = \"white\", linewidth = 0.2\n  ) +\n  coord_fixed(1.3) +\n  scale_fill_viridis_c(na.value = \"grey85\") +\n  geom_polygon(\n    data = us_map_tx,\n    aes(long, lat, group = group,\n        text = paste0(\"<b>Texas</b> (TX)<br>Authors: \", n_authors)),\n    color = \"white\", linewidth = 0.2, fill = \"#E15759\"\n  ) +\n  labs(title = \"Authors by state in the United States\") +\n  theme_void(base_size = 13, base_family = \"tctws\") +\n  theme(legend.position = \"none\")\n\nggplotly(author_us_map_int, tooltip = \"text\") %>%\n  style(hoveron = \"fills\") %>% \n  layout(margin = list(l = 0, r = 0, t = 60, b = 0))\n```\n\n## Texas author distribution\n\n```{r}\nTx <- maps::map(\n  database = \"county\",\n  regions  = \"texas\",\n  fill     = TRUE,\n  plot     = FALSE\n)\n\ntx_counties_sf <- st_as_sf(Tx) %>% \n  st_transform(., 4326) %>%\n  st_make_valid()\n\n\n# Texas cities\n\nTX_cities <- read.delim(\"Data/2025_Gaz_cousubs_national.txt\", header = TRUE, sep = \"|\") %>% \n  mutate(\n    city_clean =  tolower(trimws(NAME)),\n    city_clean = str_remove(city_clean, \" ccd\")\n  ) %>% \n  filter(USPS == \"TX\") %>% \n  select(NAME, Lat= INTPTLAT,    Lon= INTPTLONG,   city_clean)\n\nauthors_tx <- authors %>%\n  filter(country == \"USA\", state == \"TX\") %>%\n  mutate(city_clean = tolower(trimws(city)))\n\nauthors_tx_pts <- authors_tx %>%\n  left_join(TX_cities, by = \"city_clean\") %>%\n  filter(!is.na(Lat), !is.na(Lon))\n\n\n\nsf_use_s2(FALSE)\n\nauthors_sf <- st_as_sf(authors_tx_pts, coords = c(\"Lon\", \"Lat\"), crs = 4326)\n\ntx_counties_sf <- st_make_valid(tx_counties_sf)\n\nauthors_with_county <- st_join(authors_sf, tx_counties_sf, join = st_within)\n\nsf_use_s2(TRUE)\n\nauthors_with_county <- st_join(authors_sf, tx_counties_sf, join = st_within) %>% \n  mutate(county= str_to_title(sub(\"^texas,\", \"\", ID)))\n\n\ncounty_counts <- authors_with_county %>%\n  st_drop_geometry() %>%\n  distinct(author, county) %>%\n  count(county, name = \"n_authors\")\n\ncounty_counts_dt <- county_counts %>%\n  arrange(desc(n_authors), county) %>%\n  mutate(\n    perc = round(n_authors / sum(n_authors) * 100, 1),\n    cum_perc = round(cumsum(perc), 1)\n  ) %>%\n  rename(\n    County = county,\n    `Authors` = n_authors,\n    `Percent (%)` = perc,\n    `Cumulative (%)` = cum_perc\n  )\n\ndatatable(\n  county_counts_dt,\n  rownames = FALSE,\n  filter = \"top\",\n  extensions = c(\"Buttons\"),\n  options = list(\n    pageLength = 15,\n    autoWidth = TRUE,\n    dom = \"Bfrtip\",\n    buttons = c(\"copy\", \"csv\", \"excel\"),\n    order = list(list(1, \"desc\")) # columna Authors (0=County,1=Authors)\n  )\n)\n\n\n```\n\n```{r}\ncounty_year_counts <- authors_with_county %>%\n  st_drop_geometry() %>%\n  distinct(author, county, year) %>%\n  count(county, year, name = \"n_authors\") %>% \n  filter(!is.na(year))\n\ncounty_year_counts_dt <- county_year_counts %>%\n  arrange(desc(year), desc(n_authors)) %>%\n  mutate(\n    year = as.integer(as.character(year))\n  ) %>%\n  rename(\n    County = county,\n    Year = year,\n    Authors = n_authors\n  )\n\ndatatable(\n  county_year_counts_dt,\n  rownames = FALSE,\n  filter = \"top\",\n  extensions = \"Buttons\",\n  options = list(\n    pageLength = 20,\n    autoWidth = TRUE,\n    dom = \"Bfrtip\",\n    buttons = c(\"copy\", \"csv\", \"excel\"),\n    order = list(list(1, \"desc\"), list(2, \"desc\"))  # Year desc, Authors desc\n  )\n)\n\n```\n\n```{r}\ncounty_year_wide <- county_year_counts %>%\n  mutate(year = as.character(year)) %>%\n  pivot_wider(\n    names_from = year,\n    values_from = n_authors,\n    values_fill = 0\n  ) %>%\n  arrange(desc(`2025`)) %>% \ndrop_na(county)\n\ndatatable(county_year_wide,\n          rownames = FALSE,\n          extensions = \"Buttons\",\n          options = list(\n            pageLength = 20,\n            dom = \"Bfrtip\",\n            buttons = c(\"copy\", \"csv\", \"excel\")\n          ))\n```\n\n```{r}\ncounty_year_city <- authors_with_county %>%\n  st_drop_geometry() %>%\n  distinct(author, city, year) %>%\n  count(city, year, name = \"n_authors\") %>% \n  filter(!is.na(year)) \n\ncounty_year_city_wide <- county_year_city %>%\n  pivot_wider(\n    names_from = year,\n    values_from = n_authors,\n    values_fill = 0\n  ) %>%\n  arrange(desc(`2025`))\n\ndatatable(county_year_city_wide,\n          rownames = FALSE,\n          extensions = \"Buttons\",\n          options = list(\n            pageLength = 20,\n            dom = \"Bfrtip\",\n            buttons = c(\"copy\", \"csv\", \"excel\")\n          ))\n\n```\n\n```{r}\n#| fig-width: 8\n#| fig-height: 10\n#| fig-align: \"center\"\n#| fig-cap: \"Number of unique authors by city and year (2022–2025).\"\n\ntop_city_by_year <- county_year_city %>%\n  group_by(year) %>%\n  slice_max(n_authors, n = 5, with_ties = FALSE) %>%\n  ungroup()\n\ntopcity_author <- ggplot(top_city_by_year,\n       aes(\n         x = n_authors,\n         y = reorder(city, n_authors)\n       )) +\n  geom_linerange(\n    aes(xmin = 0, xmax = n_authors),\n    linewidth = 2.5,\n    color = tctws_maroon\n  ) +\n  geom_point(\n    size = 9,\n    color = tctws_maroon\n  ) +\n  geom_text(\n    aes(label = n_authors),\n    size = 4.5,\n    family = \"tctws\",\n    color = \"white\",\n    fontface = \"bold\"\n  ) +\n  scale_x_continuous(expand = expansion(mult = c(0, 0.1))) +\n  facet_grid(. ~ year, scales = \"free_y\") +\n  labs(\n    x = \"Number of unique authors\",\n    y = \"City\"\n  ) +\n  theme_minimal(base_size = 14, base_family = \"tctws\") +\n  theme(\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank(),\n    axis.title = element_text(face = \"bold\"),\n    legend.position = \"none\",\n    plot.margin = margin(10, 12, 10, 12)\n  )\n\ntopcity_author\n```\n\n# Institutional collaboration network\n\n```{r}\nauthors_net <- authors %>%\n  filter(!is.na(institution), institution != \"\") %>%\n  mutate(\n    institution = str_squish(institution),\n    talk_uid = paste0(year, \"_\",talk_id)\n  )\n\n\ninst_by_talk <- authors_net %>%\n  distinct(talk_uid , institution) %>% \n  filter(talk_uid != \"2022_NA\") %>% \n  filter(talk_uid != \"NA_1\") %>% \n  mutate(institution_Ac= case_when(institution == \"Texas A&M-Kingsville\"~ \"TAMUK\",\n                                   institution == \"Texas Tech University\"~ \"TTU\",\n                                   institution == \"Sul Ross State University\"~ \"SRSU\",\n                                   institution == \"Stephen F. Austin State University\"~ \"SFASU\",\n                                   institution == \"Texas State University\"~ \"TXST\",\n                                   institution == \"Texas A&M-College Station\"~ \"TAMU\",\n                                   institution == \"UT San Antonio\"~ \"UTSA\",\n                                   institution == \"Tarleton State University\"~ \"TSU\",\n                                   institution == \"UT Rio Grande Valley\"~ \"UTRGV\",\n                                   institution == \"Texas A&M-AgriLife\"~ \"AgriLife\",\n                                   institution == \"U.S. Fish and Wildlife Service\"~ \"USFWS\",\n                                   institution == \"Texas Parks & Wildlife Department\"~ \"TPWD\",\n                                   institution == \"Idaho Department of Fish and Game\"~ \"Idaho DFG\",\n                                   institution == \"Texas Department of Transportation\"~ \"TXDOT\",\n                                   institution == \"U.S. Department of Agriculture\"~ \"USDA\",\n                                   institution == \"Texas A&M-International University\"~ \"TAMIU\",\n                                   institution == \"New Mexico Department of Game and Fish\"~ \"New Mexico DGF\",\n                                   institution == \"U.S. Forest Service\"~ \"USFS\",\n                                   institution == \"U.S. Geological Survey\"~ \"USGS\",\n                                   \n                                   TRUE ~ institution\n                                   )    )\n\ntalk_sizes <- inst_by_talk %>%\n  count(talk_uid, name = \"n_inst\")\n\n\nedges_raw <- inst_by_talk %>%\n  left_join(talk_sizes, by = \"talk_uid\") %>%\n  filter(n_inst >= 2) %>%\n  group_by(talk_uid) %>%\n  summarise(\n    pairs = list(t(combn(institution_Ac, 2))),\n    .groups = \"drop\"\n  ) %>%\n  unnest(pairs) %>%\n  as_tibble()\n  \n\n  \n\nedges_raw$inst1 <- edges_raw$pairs[,1]\nedges_raw$inst2 <- edges_raw$pairs[,2]\n\n\n\nedges <- edges_raw %>%   #\n  count(inst1, inst2, name = \"n_talks\") %>%\n  arrange(desc(n_talks))\n\nedges_f <- edges %>% filter(n_talks >= 4)\n\n\ng0 <- graph_from_data_frame(edges, directed = FALSE)\n\nnode_strength <- igraph::strength(g0, weights = igraph::E(g0)$n_talks)\n\ntop_inst <- names(sort(node_strength, decreasing = TRUE))[1:30]  # ajusta 20–40\n\ng <- induced_subgraph(g0, vids = top_inst)\n\n\ng_tbl <- as_tbl_graph(g) %>%\n  activate(edges) %>%\n  mutate(n_talks = as.numeric(n_talks)) %>%\n  activate(nodes) %>%\n  mutate(\n    degree = centrality_degree(),\n    strength = centrality_authority(weights = n_talks)\n  )\n\nset.seed(1)\n\nnet_authors <- ggraph(g_tbl, layout = \"fr\") +\n  geom_edge_link(aes(width = n_talks), alpha = 0.45, color = \"grey50\") +\n  geom_node_point(aes(size = strength), color = \"#4E79A7\", alpha = 0.9) +\n  geom_node_text(\n    aes(label = name),\n    repel = TRUE,\n    size = 4,\n    fontface= \"bold\",\n    family = \"tctws\"\n  ) +\n  scale_edge_width(range = c(0.2, 2.5), name = \"Shared talks\") +\n  scale_size(range = c(3, 12), name = \"Connectivity\") +\n  labs(\n    title = \"Top 30 Institutional collaboration network (TCTWS abstracts 2022–2025)\",\n    #subtitle = \"Edges weighted by number of shared talks (n_talks)\"\n  ) +\n  theme_void(base_size = 13, base_family = \"tctws\") +\n  theme(\n    plot.title = element_text(face = \"bold\"),\n    legend.position = \"bottom\"\n  )\n\nnet_authors\n```\n\n```{r}\nedges_tbl <- as_data_frame(g0, what = \"edges\") %>%\n  as_tibble() %>%\n  rename(\n    inst1 = from,\n    inst2 = to,\n    shared_talks = n_talks\n  ) %>%\n  arrange(desc(shared_talks), inst1, inst2)\n\ninst_key <- inst_by_talk %>%\n  distinct(institution_Ac, institution) %>%\n  group_by(institution_Ac) %>%\n  slice_max(n = 1, order_by = 1) %>%  # por si hay duplicados raros\n  ungroup()\n\nedges_tbl <- edges_tbl %>%\n  left_join(inst_key, by = c(\"inst1\" = \"institution_Ac\")) %>%\n  rename(inst1_full = institution) %>%\n  left_join(inst_key, by = c(\"inst2\" = \"institution_Ac\")) %>%\n  rename(inst2_full = institution) %>%\n  mutate(\n    inst1_full = if_else(is.na(inst1_full), inst1, inst1_full),\n    inst2_full = if_else(is.na(inst2_full), inst2, inst2_full)\n  ) %>%\n  select(inst1, inst1_full, inst2, inst2_full, shared_talks) %>%\n  rename(\n    Inst1 = inst1,\n    `Institution 1` = inst1_full,\n    Inst2 = inst2,\n    `Institution 2` = inst2_full,\n    `Shared talks` = shared_talks\n  )\n\n\ndatatable(\n  edges_tbl,\n  rownames = FALSE,\n  filter = \"top\",\n  extensions = \"Buttons\",\n  options = list(\n    pageLength = 20,\n    dom = \"Bfrtip\",\n    buttons = c(\"copy\", \"csv\", \"excel\"),\n    order = list(list(4, \"desc\"))\n  )\n)\n```\n\n# Species focus research trend\n\nLoad a list of species from Texas\n\n```{r}\nTX_species <- read_excel(\"Data/TX_species.xlsx\") %>% \n  select(`Species Group (Broad)`, `Common Name`, `Scientific Name`) %>%\n  filter(`Species Group (Broad)` %in% c(\"Vertebrates\", \"Mussels, Snails, & Other Molluscs\" , \"Crayfish, Shrimp, & Other Crustaceans\", \"Insects - Bees\", \"Insects - Beetles\", \"Insects - Butterflies and Moths\",\"Insects - Caddisflies, Mayflies, and Stoneflies\", \"Insects - Damselflies and Dragonflies\",\"Insects - Flies\", \"Insects - Other\" , \"Other Invertebrates - Terrestrial/Freshwater\"))\n```\n\nDetect mention of species based on the scientific name\n\n```{r}\n# Species presence --------------------------------------------------------\n\nabstract_df2 <- abstract_df %>%\n  mutate(\n    abstract_clean = abstract %>%\n      str_to_lower() %>%\n      str_replace_all(\"[^a-z\\\\s]\", \" \") %>%\n      str_squish()\n  )\n\nTX_species2 <- TX_species %>%\n  mutate(\n    common_clean = `Common Name` %>%\n      str_to_lower() %>%\n      str_replace_all(\"[^a-z\\\\s]\", \" \") %>%\n      str_squish(),\n    \n    sci_clean = `Scientific Name` %>%\n      str_to_lower() %>%\n      str_replace_all(\"[^a-z\\\\s]\", \" \") %>%\n      str_squish()\n  )\n\n\nspecies_hits <- abstract_df2 %>%\n  tidyr::crossing(TX_species2) %>%\n  mutate(\n    detected = str_detect(\n      abstract_clean,\n      regex(\n        paste0(\"\\\\b\", sci_clean, \"\\\\b\"),\n        ignore_case = TRUE\n      )\n    )\n  ) %>%\n  group_by(ID, year, `Scientific Name`) %>%\n  summarise(detected = any(detected), .groups = \"drop\")\n\nspecies_year_counts <- species_hits %>%\n  filter(detected) %>%\n  group_by(year, `Scientific Name`) %>%\n  summarise(\n    n_abstracts = n(),\n    .groups = \"drop\"\n  ) %>%\n  arrange(year, desc(n_abstracts))\n\nspecies_year_wide <- pivot_wider(species_year_counts, \n                                 names_from = year,\n    values_from = n_abstracts,\n    values_fill = 0\n  ) %>%\n  arrange(desc(`2025`))\n\ndatatable(species_year_wide,\n          rownames = FALSE,\n          extensions = \"Buttons\",\n          options = list(\n            pageLength = 20,\n            dom = \"Bfrtip\",\n            buttons = c(\"copy\", \"csv\", \"excel\")\n          ))\n\n```\n\n```{r}\n#| fig-width: 15\n#| fig-height: 8\n#| fig-align: \"center\"\n#| fig-cap: \"Top 8 species sicentific names mentioned in an abstract by year\"\nspecies_top_year <- species_year_counts %>%\n  group_by(year) %>%\n  slice_max(n_abstracts, n = 8, with_ties = FALSE) %>%\n  ungroup() %>% \n  select(year, `Scientific Name`, n_abstracts) %>% \n  left_join(TX_species %>% select(`Scientific Name`, `Common Name`), by = \"Scientific Name\") %>% \n  mutate(\n    sps_type= case_when(`Scientific Name` %in% c(\"Odocoileus virginianus\",\n                                                 \"Antilocapra americana\",\n                                                 \"Callipepla squamata\",\n                                                 \"Colinus virginianus\",\n                                                 \"Meleagris gallopavo\",\n                                                 \"Odocoileus hemionus\"\n                                                    ) ~ \"Game Specie\",\n                        `Scientific Name` %in% c(\"Canis latrans\",\n                                                 \"Falco sparverius\",\n                                                 \"Holbrookia lacerata\",\n                                                 \"Lynx rufus\") ~ \"Non-game Specie\",\n                        `Scientific Name` %in% c(\"Sus scrofa\") ~ \"Invasive Specie\",\n                        TRUE ~ \"Threatened Specie\"),\n    year = factor(year),\n    cmon_ordered = reorder_within(`Common Name`, n_abstracts, year)\n  )\n  \n\nSpecies_plot <- ggplot(species_top_year, aes(x = cmon_ordered, y = n_abstracts)) +\n  \n\n  geom_segment(\n    aes(xend = cmon_ordered, yend = 0),\n    color = \"#6C6865\",\n    linewidth = 0.4\n  ) +\n  \n\n  geom_point(aes(color = sps_type), size = 4, alpha = 0.9) +\n  \n   geom_text(\n    aes(label = n_abstracts),\n    family = \"tctws\",\n    size = 2,\n    hjust = -0.15,\n    color = \"#2B2B2B\"\n  ) +\n  \n  scale_color_manual(\n    values = c(\n      \"Game Specie\" = \"#4E79A7\",\n      \"Non-game Specie\" = \"#F28E2B\",\n      \"Invasive Specie\" = \"#E15759\",\n      \"Threatened Specie\" = \"#76B7B2\"\n    )\n  ) +\n  \n  scale_y_continuous(expand = expansion(mult = c(0, 0.12)), limits = c(0, 16)) +\n  coord_flip(clip = \"off\") +\n  facet_wrap(~year, scales = \"free_y\") +\n  scale_x_reordered() +\n  labs(\n    x = NULL,\n    y = \"Number of abstracts mentioning species\",\n    color = \"Type\"\n  ) +\n  theme_bw(base_family = \"tctws\", base_size = 4) +\n  theme(\n    strip.background = element_rect(fill = \"transparent\", colour = NA),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    strip.text = element_text(face = \"bold\"),\n    legend.position = \"bottom\",\n    legend.background = element_rect(fill = \"white\", color = NA),\n    legend.key = element_rect(fill = \"white\", color = NA),\n    legend.text = element_text(size = 3),\n    axis.text.y = element_text(size = 3),\n    plot.margin = margin(10, 25, 10, 10) \n  )\n\nSpecies_plot\n```\n","srcMarkdownNoYaml":"\n\n# Analysis of research trends in the Texas Chapter of The Wildlife Society using data mining of annual meeting programs\n\nThe Texas Chapter of The Wildlife Society (TCTWS), established in 1965, has long served as a cornerstone for wildlife science and management in the state. The Chapter promotes the profession, disseminates scientific information, and advocates for the integration of sound biological data into wildlife policy and decision-making. For decades, the annual meeting has been a central venue for sharing research, exchanging ideas, and fostering collaboration among scientists, managers, and institutions across Texas. Examining the evolution of the knowledge presented at these meetings provides valuable context for identifying emerging topics, shifting priorities, and long-term trends in wildlife conservation across the state. In this study, we apply text-analysis and data-mining tools to the abstracts submitted to recent TCTWS annual meetings. We characterize historical research trends in terms of focal taxa, ecological and management topics, and analytical approaches. Additionally, we quantify and describe the collaborative network among academic, governmental, and non-governmental institutions participating in the meetings. This work aims to provide an updated, data-driven perspective on how research themes and institutional collaborations have evolved within the TCTWS community. By documenting these patterns, we highlight new directions and persistent priorities as the Chapter continues to advance wildlife science and conservation in Texas.\n\n## R packages\n\n```{r}\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(sysfonts)\nlibrary(tidytext)\nlibrary(ggtext)\nlibrary(ggrepel)\nlibrary(readxl)\nlibrary(treemapify)\nlibrary(rphylopic)\nlibrary(DT)\nlibrary(kableExtra)\nlibrary(plotly)\nlibrary(rnaturalearth)\nlibrary(sf)\nlibrary(igraph)\nlibrary(ggraph)\nlibrary(tidygraph)\n```\n\n```{r}\n'%notin%' <- Negate(\"%in%\")\nfont_add_google(\"Montserrat\", \"tctws\")\nshowtext_auto()\nshowtext_opts(dpi = 300)\n```\n\n# Number of abstracts\n\n```{r}\nabstract_df  <- read_csv(\"Data/Clean/22to25_years_abstracts.csv\") %>% \n  # get only abstracts\n  select(abstract, year) %>% \n  mutate(ID= seq(1:length(.$abstract)))\n\nnabstracts <- abstract_df %>% \n  count(year) %>% \n  mutate(year= as.factor(year),\n         conf= c(\"Horseshoe Bay\", \"Houston\", \"Houston\", \"Denton\"))\n\nnabstracts %>%\n  arrange(year) %>%\n  rename(\n    Year = year,\n    `Number of Abstracts` = n,\n    Conference = conf\n  ) %>%\n  kbl(\n    align = c(\"c\", \"c\", \"l\"),\n    caption = \"Number of abstracts presented at TCTWS annual meetings (2022–2025)\"\n  ) %>%\n  kable_classic(full_width = FALSE, html_font = \"Helvetica\") %>%\n  column_spec(2, bold = TRUE) %>%\n  row_spec(0, bold = TRUE)\n```\n\n```{r}\n#| fig-width: 7\n#| fig-height: 6\n#| fig-align: \"center\"\n#| fig-cap: \"Number of abstracts presented at TCTWS annual meetings (2022–2025).\"\ntctws_maroon <- \"#693332\"\ntctws_text   <- \"#1F1F1F\"\ntctws_grid   <- \"#E6E6E6\"\n\nnabstractplot <- ggplot(nabstracts, aes(x = year, y = n)) +\n  geom_segment(aes(y = 0, yend = n ), col= tctws_maroon, size= 3) +\n  geom_point( size = 8, color = tctws_maroon) +\n  geom_text( aes(label = n),  vjust = -1, family = \"tctws\",\n    size = 6, color = tctws_text\n  ) +\n  geom_text(aes(label = conf), hjust= 1.2, family=\"tctws\",\n            angle= 90, vjust= 1.2, size= 4)+\n  scale_y_continuous( expand = expansion(mult = c(0, 0.12))) +\n  labs( x = \"Year\", y = \"Number of abstracts\") +\n  theme_minimal(base_family = \"tctws\", base_size = 15) +\n  theme(\n    panel.grid.minor = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.major.y = element_line(color = tctws_grid, linewidth = 0.4),\n    axis.title = element_text(face = \"bold\"),\n    axis.text  = element_text(color = tctws_text),\n    plot.margin = margin(10, 12, 10, 12)\n  )\n\nnabstractplot\n```\n\n# Authors geographical distribution\n\n```{r}\nauthors <- read.csv(\"Data/Clean/22to25_years_authors_cleanedchapter.csv\")\n```\n\n## Worldwide author distribution\n\n```{r}\ncountry_counts <- authors %>%\n  filter(!is.na(country_std)) %>%\n  distinct(author, country_std) %>%\n  count(country_std, name = \"n_authors\")\n\ncountry_counts2 <- country_counts %>%\n  arrange(desc(n_authors)) %>%\n  mutate(\n    perc = round(n_authors / sum(n_authors) * 100, 1)\n  )\n\ncountry_counts2 %>%\n  rename(\n    Country = country_std,\n    `Number of Authors` = n_authors,\n    `Percent (%)` = perc\n  ) %>%\n  kbl(align = c(\"l\", \"c\", \"c\"),\n      caption = \"Author affiliation by country (unique authors)\") %>%\n  kable_classic(full_width = FALSE) %>%\n  column_spec(2, bold = TRUE) %>%\n  row_spec(0, bold = TRUE)\n```\n\n```{r}\nworld <- ne_countries(scale = \"medium\", returnclass = \"sf\")\n\nworld_map <- world %>%\n  left_join(country_counts, by = c(\"name\" = \"country_std\")) %>%\n  mutate(\n    n_authors = replace_na(n_authors, 0L),\n    tooltip = paste0(\n      \"<b>\", name, \"</b>\",\n      \"<br>Authors: \", n_authors\n    )\n  )\n\n\nauthor_world_int <- ggplot(world_map) +\n  geom_sf(aes(fill = as.factor(n_authors), text = tooltip),\n          color = \"white\", linewidth = 0.2, alpha = 0.9) +\n  scale_fill_manual(\n    values = c(\n      \"1096\" = \"#E15759\", \n      \"15\"   = \"#F28E2B\",\n      \"4\"    = \"#76B7B2\",\n      \"1\"    = \"#4E79A7\"\n    ),\n    na.value = \"grey\",\n    name = \"Number of\\nauthors\"\n  )+\n  coord_sf(ylim = c(-60, 80)) +\n  theme_void(base_size = 15, base_family = \"tctws\") +\n  labs(title = \"Worldwide geographic distribution of authors\") \n  theme(legend.position = \"none\")\n\nggplotly(author_world_int, tooltip = \"text\") %>%\n  layout(margin = list(l = 0, r = 0, t = 60, b = 0))\n```\n\n## US author distribution\n\n```{r}\nvalid_usps <- c(state.abb, \"DC\")\n\nauthors_us <- authors %>%\n  filter(country_std == \"United States of America\") %>% \n  mutate(state_clean = str_squish(state),\n         \n           state_clean = case_when(\n           str_to_lower(state_clean) == \"texas\" ~ \"TX\",\n           str_to_lower(state_clean) == \"arkansas\" ~ \"AR\",\n           state_clean %in% c(\"D.C\", \"D.C.\", \"Washington, D.C.\", \"Washington DC\", \"DC\") ~ \"DC\",\n           TRUE ~ state_clean\n         ),\n         \n         state_clean = str_to_upper(state_clean),\n         \n           state_usps = if_else(state_clean %in% valid_usps, state_clean, NA_character_)\n  ) %>%\n  filter(!is.na(state_usps))\n\nstate_counts <- authors_us %>%\n  distinct(author, state_usps) %>%\n  count(state_usps, name = \"n_authors\")\n\n\nstate_counts2 <- state_counts %>%\n  arrange(desc(n_authors)) %>%\n  mutate(\n    perc = round(n_authors / sum(n_authors) * 100, 1)\n  )\n\nstate_counts2 %>%\n  rename(\n    State = state_usps,\n    `Number of Authors` = n_authors,\n    `Percent (%)` = perc\n  ) %>%\n  kbl(align = c(\"l\", \"c\", \"c\"),\n      caption = \"Author affiliation by State (unique authors)\") %>%\n  kable_classic(full_width = FALSE) %>%\n  column_spec(2, bold = TRUE) %>%\n  row_spec(0, bold = TRUE)\n```\n\n```{r}\nus_states <- map_data(\"state\")\n\n\nstate_ref <- tibble::tibble(\n  state_usps = state.abb,\n  state_name = tolower(state.name)\n)\n\nstate_counts2 <- state_counts %>%\n  filter(state_usps != \"TX\") %>%\n  left_join(state_ref, by = \"state_usps\")\n\nstate_countstx <- state_counts %>%\n  filter(state_usps == \"TX\") %>% \n  left_join(state_ref, by = \"state_usps\")\n\nus_map <- us_states %>%\n  left_join(state_counts2, by = c(\"region\" = \"state_name\"))\n\nus_map_tx <- us_states %>%\n  filter(region == \"texas\") %>%\n  left_join(state_countstx, by = c(\"region\" = \"state_name\"))\n\n\nstate_labels <- tibble(\n  state_usps = state.abb,\n  state_name = tolower(state.name),\n  lon = state.center$x,\n  lat = state.center$y\n) %>% \n  left_join(state_counts, by = \"state_usps\")\n\n\nstate_counts_join <- state_counts %>%\n  left_join(state_ref, by = \"state_usps\") %>%\n  mutate(\n    n_authors = replace_na(n_authors, 0L),\n    tooltip = paste0(\n      \"<b>\", str_to_title(state_name), \"</b>\",\n      \" (\", state_usps, \")\",\n      \"<br>Authors: \", n_authors\n    )\n  )\n\n# Separar TX para mantener tu estilo\nstate_counts2 <- state_counts_join %>% filter(state_usps != \"TX\")\nstate_countstx <- state_counts_join %>% filter(state_usps == \"TX\")\n\nus_map <- us_states %>%\n  left_join(state_counts2, by = c(\"region\" = \"state_name\"))\n\nus_map_tx <- us_states %>%\n  filter(region == \"texas\") %>%\n  left_join(state_countstx, by = c(\"region\" = \"state_name\"))\n\nauthor_us_map_int <- ggplot(us_map) +\n  geom_polygon(\n    aes(long, lat, group = group, fill = n_authors, text = tooltip),\n    color = \"white\", linewidth = 0.2\n  ) +\n  coord_fixed(1.3) +\n  scale_fill_viridis_c(na.value = \"grey85\") +\n  geom_polygon(\n    data = us_map_tx,\n    aes(long, lat, group = group,\n        text = paste0(\"<b>Texas</b> (TX)<br>Authors: \", n_authors)),\n    color = \"white\", linewidth = 0.2, fill = \"#E15759\"\n  ) +\n  labs(title = \"Authors by state in the United States\") +\n  theme_void(base_size = 13, base_family = \"tctws\") +\n  theme(legend.position = \"none\")\n\nggplotly(author_us_map_int, tooltip = \"text\") %>%\n  style(hoveron = \"fills\") %>% \n  layout(margin = list(l = 0, r = 0, t = 60, b = 0))\n```\n\n## Texas author distribution\n\n```{r}\nTx <- maps::map(\n  database = \"county\",\n  regions  = \"texas\",\n  fill     = TRUE,\n  plot     = FALSE\n)\n\ntx_counties_sf <- st_as_sf(Tx) %>% \n  st_transform(., 4326) %>%\n  st_make_valid()\n\n\n# Texas cities\n\nTX_cities <- read.delim(\"Data/2025_Gaz_cousubs_national.txt\", header = TRUE, sep = \"|\") %>% \n  mutate(\n    city_clean =  tolower(trimws(NAME)),\n    city_clean = str_remove(city_clean, \" ccd\")\n  ) %>% \n  filter(USPS == \"TX\") %>% \n  select(NAME, Lat= INTPTLAT,    Lon= INTPTLONG,   city_clean)\n\nauthors_tx <- authors %>%\n  filter(country == \"USA\", state == \"TX\") %>%\n  mutate(city_clean = tolower(trimws(city)))\n\nauthors_tx_pts <- authors_tx %>%\n  left_join(TX_cities, by = \"city_clean\") %>%\n  filter(!is.na(Lat), !is.na(Lon))\n\n\n\nsf_use_s2(FALSE)\n\nauthors_sf <- st_as_sf(authors_tx_pts, coords = c(\"Lon\", \"Lat\"), crs = 4326)\n\ntx_counties_sf <- st_make_valid(tx_counties_sf)\n\nauthors_with_county <- st_join(authors_sf, tx_counties_sf, join = st_within)\n\nsf_use_s2(TRUE)\n\nauthors_with_county <- st_join(authors_sf, tx_counties_sf, join = st_within) %>% \n  mutate(county= str_to_title(sub(\"^texas,\", \"\", ID)))\n\n\ncounty_counts <- authors_with_county %>%\n  st_drop_geometry() %>%\n  distinct(author, county) %>%\n  count(county, name = \"n_authors\")\n\ncounty_counts_dt <- county_counts %>%\n  arrange(desc(n_authors), county) %>%\n  mutate(\n    perc = round(n_authors / sum(n_authors) * 100, 1),\n    cum_perc = round(cumsum(perc), 1)\n  ) %>%\n  rename(\n    County = county,\n    `Authors` = n_authors,\n    `Percent (%)` = perc,\n    `Cumulative (%)` = cum_perc\n  )\n\ndatatable(\n  county_counts_dt,\n  rownames = FALSE,\n  filter = \"top\",\n  extensions = c(\"Buttons\"),\n  options = list(\n    pageLength = 15,\n    autoWidth = TRUE,\n    dom = \"Bfrtip\",\n    buttons = c(\"copy\", \"csv\", \"excel\"),\n    order = list(list(1, \"desc\")) # columna Authors (0=County,1=Authors)\n  )\n)\n\n\n```\n\n```{r}\ncounty_year_counts <- authors_with_county %>%\n  st_drop_geometry() %>%\n  distinct(author, county, year) %>%\n  count(county, year, name = \"n_authors\") %>% \n  filter(!is.na(year))\n\ncounty_year_counts_dt <- county_year_counts %>%\n  arrange(desc(year), desc(n_authors)) %>%\n  mutate(\n    year = as.integer(as.character(year))\n  ) %>%\n  rename(\n    County = county,\n    Year = year,\n    Authors = n_authors\n  )\n\ndatatable(\n  county_year_counts_dt,\n  rownames = FALSE,\n  filter = \"top\",\n  extensions = \"Buttons\",\n  options = list(\n    pageLength = 20,\n    autoWidth = TRUE,\n    dom = \"Bfrtip\",\n    buttons = c(\"copy\", \"csv\", \"excel\"),\n    order = list(list(1, \"desc\"), list(2, \"desc\"))  # Year desc, Authors desc\n  )\n)\n\n```\n\n```{r}\ncounty_year_wide <- county_year_counts %>%\n  mutate(year = as.character(year)) %>%\n  pivot_wider(\n    names_from = year,\n    values_from = n_authors,\n    values_fill = 0\n  ) %>%\n  arrange(desc(`2025`)) %>% \ndrop_na(county)\n\ndatatable(county_year_wide,\n          rownames = FALSE,\n          extensions = \"Buttons\",\n          options = list(\n            pageLength = 20,\n            dom = \"Bfrtip\",\n            buttons = c(\"copy\", \"csv\", \"excel\")\n          ))\n```\n\n```{r}\ncounty_year_city <- authors_with_county %>%\n  st_drop_geometry() %>%\n  distinct(author, city, year) %>%\n  count(city, year, name = \"n_authors\") %>% \n  filter(!is.na(year)) \n\ncounty_year_city_wide <- county_year_city %>%\n  pivot_wider(\n    names_from = year,\n    values_from = n_authors,\n    values_fill = 0\n  ) %>%\n  arrange(desc(`2025`))\n\ndatatable(county_year_city_wide,\n          rownames = FALSE,\n          extensions = \"Buttons\",\n          options = list(\n            pageLength = 20,\n            dom = \"Bfrtip\",\n            buttons = c(\"copy\", \"csv\", \"excel\")\n          ))\n\n```\n\n```{r}\n#| fig-width: 8\n#| fig-height: 10\n#| fig-align: \"center\"\n#| fig-cap: \"Number of unique authors by city and year (2022–2025).\"\n\ntop_city_by_year <- county_year_city %>%\n  group_by(year) %>%\n  slice_max(n_authors, n = 5, with_ties = FALSE) %>%\n  ungroup()\n\ntopcity_author <- ggplot(top_city_by_year,\n       aes(\n         x = n_authors,\n         y = reorder(city, n_authors)\n       )) +\n  geom_linerange(\n    aes(xmin = 0, xmax = n_authors),\n    linewidth = 2.5,\n    color = tctws_maroon\n  ) +\n  geom_point(\n    size = 9,\n    color = tctws_maroon\n  ) +\n  geom_text(\n    aes(label = n_authors),\n    size = 4.5,\n    family = \"tctws\",\n    color = \"white\",\n    fontface = \"bold\"\n  ) +\n  scale_x_continuous(expand = expansion(mult = c(0, 0.1))) +\n  facet_grid(. ~ year, scales = \"free_y\") +\n  labs(\n    x = \"Number of unique authors\",\n    y = \"City\"\n  ) +\n  theme_minimal(base_size = 14, base_family = \"tctws\") +\n  theme(\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank(),\n    axis.title = element_text(face = \"bold\"),\n    legend.position = \"none\",\n    plot.margin = margin(10, 12, 10, 12)\n  )\n\ntopcity_author\n```\n\n# Institutional collaboration network\n\n```{r}\nauthors_net <- authors %>%\n  filter(!is.na(institution), institution != \"\") %>%\n  mutate(\n    institution = str_squish(institution),\n    talk_uid = paste0(year, \"_\",talk_id)\n  )\n\n\ninst_by_talk <- authors_net %>%\n  distinct(talk_uid , institution) %>% \n  filter(talk_uid != \"2022_NA\") %>% \n  filter(talk_uid != \"NA_1\") %>% \n  mutate(institution_Ac= case_when(institution == \"Texas A&M-Kingsville\"~ \"TAMUK\",\n                                   institution == \"Texas Tech University\"~ \"TTU\",\n                                   institution == \"Sul Ross State University\"~ \"SRSU\",\n                                   institution == \"Stephen F. Austin State University\"~ \"SFASU\",\n                                   institution == \"Texas State University\"~ \"TXST\",\n                                   institution == \"Texas A&M-College Station\"~ \"TAMU\",\n                                   institution == \"UT San Antonio\"~ \"UTSA\",\n                                   institution == \"Tarleton State University\"~ \"TSU\",\n                                   institution == \"UT Rio Grande Valley\"~ \"UTRGV\",\n                                   institution == \"Texas A&M-AgriLife\"~ \"AgriLife\",\n                                   institution == \"U.S. Fish and Wildlife Service\"~ \"USFWS\",\n                                   institution == \"Texas Parks & Wildlife Department\"~ \"TPWD\",\n                                   institution == \"Idaho Department of Fish and Game\"~ \"Idaho DFG\",\n                                   institution == \"Texas Department of Transportation\"~ \"TXDOT\",\n                                   institution == \"U.S. Department of Agriculture\"~ \"USDA\",\n                                   institution == \"Texas A&M-International University\"~ \"TAMIU\",\n                                   institution == \"New Mexico Department of Game and Fish\"~ \"New Mexico DGF\",\n                                   institution == \"U.S. Forest Service\"~ \"USFS\",\n                                   institution == \"U.S. Geological Survey\"~ \"USGS\",\n                                   \n                                   TRUE ~ institution\n                                   )    )\n\ntalk_sizes <- inst_by_talk %>%\n  count(talk_uid, name = \"n_inst\")\n\n\nedges_raw <- inst_by_talk %>%\n  left_join(talk_sizes, by = \"talk_uid\") %>%\n  filter(n_inst >= 2) %>%\n  group_by(talk_uid) %>%\n  summarise(\n    pairs = list(t(combn(institution_Ac, 2))),\n    .groups = \"drop\"\n  ) %>%\n  unnest(pairs) %>%\n  as_tibble()\n  \n\n  \n\nedges_raw$inst1 <- edges_raw$pairs[,1]\nedges_raw$inst2 <- edges_raw$pairs[,2]\n\n\n\nedges <- edges_raw %>%   #\n  count(inst1, inst2, name = \"n_talks\") %>%\n  arrange(desc(n_talks))\n\nedges_f <- edges %>% filter(n_talks >= 4)\n\n\ng0 <- graph_from_data_frame(edges, directed = FALSE)\n\nnode_strength <- igraph::strength(g0, weights = igraph::E(g0)$n_talks)\n\ntop_inst <- names(sort(node_strength, decreasing = TRUE))[1:30]  # ajusta 20–40\n\ng <- induced_subgraph(g0, vids = top_inst)\n\n\ng_tbl <- as_tbl_graph(g) %>%\n  activate(edges) %>%\n  mutate(n_talks = as.numeric(n_talks)) %>%\n  activate(nodes) %>%\n  mutate(\n    degree = centrality_degree(),\n    strength = centrality_authority(weights = n_talks)\n  )\n\nset.seed(1)\n\nnet_authors <- ggraph(g_tbl, layout = \"fr\") +\n  geom_edge_link(aes(width = n_talks), alpha = 0.45, color = \"grey50\") +\n  geom_node_point(aes(size = strength), color = \"#4E79A7\", alpha = 0.9) +\n  geom_node_text(\n    aes(label = name),\n    repel = TRUE,\n    size = 4,\n    fontface= \"bold\",\n    family = \"tctws\"\n  ) +\n  scale_edge_width(range = c(0.2, 2.5), name = \"Shared talks\") +\n  scale_size(range = c(3, 12), name = \"Connectivity\") +\n  labs(\n    title = \"Top 30 Institutional collaboration network (TCTWS abstracts 2022–2025)\",\n    #subtitle = \"Edges weighted by number of shared talks (n_talks)\"\n  ) +\n  theme_void(base_size = 13, base_family = \"tctws\") +\n  theme(\n    plot.title = element_text(face = \"bold\"),\n    legend.position = \"bottom\"\n  )\n\nnet_authors\n```\n\n```{r}\nedges_tbl <- as_data_frame(g0, what = \"edges\") %>%\n  as_tibble() %>%\n  rename(\n    inst1 = from,\n    inst2 = to,\n    shared_talks = n_talks\n  ) %>%\n  arrange(desc(shared_talks), inst1, inst2)\n\ninst_key <- inst_by_talk %>%\n  distinct(institution_Ac, institution) %>%\n  group_by(institution_Ac) %>%\n  slice_max(n = 1, order_by = 1) %>%  # por si hay duplicados raros\n  ungroup()\n\nedges_tbl <- edges_tbl %>%\n  left_join(inst_key, by = c(\"inst1\" = \"institution_Ac\")) %>%\n  rename(inst1_full = institution) %>%\n  left_join(inst_key, by = c(\"inst2\" = \"institution_Ac\")) %>%\n  rename(inst2_full = institution) %>%\n  mutate(\n    inst1_full = if_else(is.na(inst1_full), inst1, inst1_full),\n    inst2_full = if_else(is.na(inst2_full), inst2, inst2_full)\n  ) %>%\n  select(inst1, inst1_full, inst2, inst2_full, shared_talks) %>%\n  rename(\n    Inst1 = inst1,\n    `Institution 1` = inst1_full,\n    Inst2 = inst2,\n    `Institution 2` = inst2_full,\n    `Shared talks` = shared_talks\n  )\n\n\ndatatable(\n  edges_tbl,\n  rownames = FALSE,\n  filter = \"top\",\n  extensions = \"Buttons\",\n  options = list(\n    pageLength = 20,\n    dom = \"Bfrtip\",\n    buttons = c(\"copy\", \"csv\", \"excel\"),\n    order = list(list(4, \"desc\"))\n  )\n)\n```\n\n# Species focus research trend\n\nLoad a list of species from Texas\n\n```{r}\nTX_species <- read_excel(\"Data/TX_species.xlsx\") %>% \n  select(`Species Group (Broad)`, `Common Name`, `Scientific Name`) %>%\n  filter(`Species Group (Broad)` %in% c(\"Vertebrates\", \"Mussels, Snails, & Other Molluscs\" , \"Crayfish, Shrimp, & Other Crustaceans\", \"Insects - Bees\", \"Insects - Beetles\", \"Insects - Butterflies and Moths\",\"Insects - Caddisflies, Mayflies, and Stoneflies\", \"Insects - Damselflies and Dragonflies\",\"Insects - Flies\", \"Insects - Other\" , \"Other Invertebrates - Terrestrial/Freshwater\"))\n```\n\nDetect mention of species based on the scientific name\n\n```{r}\n# Species presence --------------------------------------------------------\n\nabstract_df2 <- abstract_df %>%\n  mutate(\n    abstract_clean = abstract %>%\n      str_to_lower() %>%\n      str_replace_all(\"[^a-z\\\\s]\", \" \") %>%\n      str_squish()\n  )\n\nTX_species2 <- TX_species %>%\n  mutate(\n    common_clean = `Common Name` %>%\n      str_to_lower() %>%\n      str_replace_all(\"[^a-z\\\\s]\", \" \") %>%\n      str_squish(),\n    \n    sci_clean = `Scientific Name` %>%\n      str_to_lower() %>%\n      str_replace_all(\"[^a-z\\\\s]\", \" \") %>%\n      str_squish()\n  )\n\n\nspecies_hits <- abstract_df2 %>%\n  tidyr::crossing(TX_species2) %>%\n  mutate(\n    detected = str_detect(\n      abstract_clean,\n      regex(\n        paste0(\"\\\\b\", sci_clean, \"\\\\b\"),\n        ignore_case = TRUE\n      )\n    )\n  ) %>%\n  group_by(ID, year, `Scientific Name`) %>%\n  summarise(detected = any(detected), .groups = \"drop\")\n\nspecies_year_counts <- species_hits %>%\n  filter(detected) %>%\n  group_by(year, `Scientific Name`) %>%\n  summarise(\n    n_abstracts = n(),\n    .groups = \"drop\"\n  ) %>%\n  arrange(year, desc(n_abstracts))\n\nspecies_year_wide <- pivot_wider(species_year_counts, \n                                 names_from = year,\n    values_from = n_abstracts,\n    values_fill = 0\n  ) %>%\n  arrange(desc(`2025`))\n\ndatatable(species_year_wide,\n          rownames = FALSE,\n          extensions = \"Buttons\",\n          options = list(\n            pageLength = 20,\n            dom = \"Bfrtip\",\n            buttons = c(\"copy\", \"csv\", \"excel\")\n          ))\n\n```\n\n```{r}\n#| fig-width: 15\n#| fig-height: 8\n#| fig-align: \"center\"\n#| fig-cap: \"Top 8 species sicentific names mentioned in an abstract by year\"\nspecies_top_year <- species_year_counts %>%\n  group_by(year) %>%\n  slice_max(n_abstracts, n = 8, with_ties = FALSE) %>%\n  ungroup() %>% \n  select(year, `Scientific Name`, n_abstracts) %>% \n  left_join(TX_species %>% select(`Scientific Name`, `Common Name`), by = \"Scientific Name\") %>% \n  mutate(\n    sps_type= case_when(`Scientific Name` %in% c(\"Odocoileus virginianus\",\n                                                 \"Antilocapra americana\",\n                                                 \"Callipepla squamata\",\n                                                 \"Colinus virginianus\",\n                                                 \"Meleagris gallopavo\",\n                                                 \"Odocoileus hemionus\"\n                                                    ) ~ \"Game Specie\",\n                        `Scientific Name` %in% c(\"Canis latrans\",\n                                                 \"Falco sparverius\",\n                                                 \"Holbrookia lacerata\",\n                                                 \"Lynx rufus\") ~ \"Non-game Specie\",\n                        `Scientific Name` %in% c(\"Sus scrofa\") ~ \"Invasive Specie\",\n                        TRUE ~ \"Threatened Specie\"),\n    year = factor(year),\n    cmon_ordered = reorder_within(`Common Name`, n_abstracts, year)\n  )\n  \n\nSpecies_plot <- ggplot(species_top_year, aes(x = cmon_ordered, y = n_abstracts)) +\n  \n\n  geom_segment(\n    aes(xend = cmon_ordered, yend = 0),\n    color = \"#6C6865\",\n    linewidth = 0.4\n  ) +\n  \n\n  geom_point(aes(color = sps_type), size = 4, alpha = 0.9) +\n  \n   geom_text(\n    aes(label = n_abstracts),\n    family = \"tctws\",\n    size = 2,\n    hjust = -0.15,\n    color = \"#2B2B2B\"\n  ) +\n  \n  scale_color_manual(\n    values = c(\n      \"Game Specie\" = \"#4E79A7\",\n      \"Non-game Specie\" = \"#F28E2B\",\n      \"Invasive Specie\" = \"#E15759\",\n      \"Threatened Specie\" = \"#76B7B2\"\n    )\n  ) +\n  \n  scale_y_continuous(expand = expansion(mult = c(0, 0.12)), limits = c(0, 16)) +\n  coord_flip(clip = \"off\") +\n  facet_wrap(~year, scales = \"free_y\") +\n  scale_x_reordered() +\n  labs(\n    x = NULL,\n    y = \"Number of abstracts mentioning species\",\n    color = \"Type\"\n  ) +\n  theme_bw(base_family = \"tctws\", base_size = 4) +\n  theme(\n    strip.background = element_rect(fill = \"transparent\", colour = NA),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    strip.text = element_text(face = \"bold\"),\n    legend.position = \"bottom\",\n    legend.background = element_rect(fill = \"white\", color = NA),\n    legend.key = element_rect(fill = \"white\", color = NA),\n    legend.text = element_text(size = 3),\n    axis.text.y = element_text(size = 3),\n    plot.margin = margin(10, 25, 10, 10) \n  )\n\nSpecies_plot\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"number-sections":false,"self-contained":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","theme":"cosmo","title":"TCTWS Abstracts (2022–2025): Interactive Companion","author":[{"name":"Gabriel P. Andrade-Ponce","email":"Gabriel.Andrade@sfasu.edu","affiliation":"Arthur Temple College of Forestry & Agriculture, Stephen F. Austin State University"},{"name":"Jessica L. Glasscock","email":"Jessica.Glasscock@sfasu.edu","affiliation":"Arthur Temple College of Forestry & Agriculture, Stephen F. Austin State University"}],"toc-location":"left","code-summary":"Show code"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}